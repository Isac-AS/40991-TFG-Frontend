<mat-stepper>
  <!--First step: recording audio-->
  <mat-step>
    <ng-template matStepLabel>
      Realiza la grabaci√≥n
    </ng-template>
    <app-audio-recorder (testeEmitter)="updateTeste($event)">
    </app-audio-recorder>
    <button mat-raised-button matStepperNext color="accent">
      Continuar
    </button>
  </mat-step>
  <!--Second step: pipeline selection-->
  <mat-step>
    <ng-template matStepLabel>
      Selecciona un pipeline
    </ng-template>
    <app-pipeline-table (selectedPipelineEmitter)="updateSelectedPipeline($event)"></app-pipeline-table>
    <div class="stepper-action-buttons">
      <button mat-raised-button matStepperPrevious color="accent">
        Anterior
      </button>
      <button mat-raised-button matStepperNext color="accent">
        Siguiente
      </button>
    </div>
  </mat-step>
  <!--Third step: wait for processing-->
  <mat-step>
    <ng-template matStepLabel>
      Espera los resultados
    </ng-template>
    <div class="last-step-container">
      <button mat-raised-button color="primary" (click)="createRecord()" *ngIf="!isProcessing && !isFinished">
        Crear Registro
      </button>
      <div class="wait-for-results" *ngIf="isProcessing">
        <h2>Procesando...</h2>
        <mat-spinner></mat-spinner>
      </div>
      <button mat-raised-button color="primary" routerLink="/view_records" *ngIf="!isProcessing && isFinished">
        Ver Registro
      </button>
    </div>
    <button mat-raised-button matStepperPrevious color="accent">
      Anterior
    </button>
  </mat-step>
</mat-stepper>